/*************************************************************************
Student Name:   Adil Iqbal
Class:          6202-14454-COSC-1436
Schedule:       Monday, Wednesday 11:00AM - 1:40PM

Assignment 7 & Program 7
EO–5–603
A local zoo wants to keep track of how many pounds of food each of its three monkeys eats each day during a typical week. Write a program that stores this information in a two-dimensional 3×7 array, where each row represents a different monkey and each column represents a different day of the week. The program should first have the user input the data for each monkey. Then it should create a report that includes the following information:

* Average amount of food eaten per day by the whole family of monkeys
* The least amount of food eaten during the week by any one monkey
* The greatest amount of food eaten during the week by any one monkey

*************************************************************************/

#include <iostream>
#include <string>
#include <iomanip>
#include <fstream>
#include <limits>
using namespace std;

const int M = 3;
const int D = 7;

// File objects.
ofstream report;
    
// Function Declarations. 
void open();
void userInput(int table[M][D]);
double avgFoodEaten(int table[M][D]);
void getLeast(int table[M][D], int least[M]);
void getMost(int table[M][D], int most[M]);
void write(int table[M][D], double average, int least[M], int most[M]);
void close();

int main() {
    int table[M][D];
    int least[M] = { INT_MAX, INT_MAX, INT_MAX };
    int most[M] = { INT_MIN, INT_MIN, INT_MIN };
    double average;

    open();
    userInput(table);
    average = avgFoodEaten(table);
    getLeast(table, least);
    getMost(table, most);
    write(table, average, least, most);
    close();

    return 0;
}

/* Asks user for monkey data. */
void userInput(int table[M][D]) {
    string monkey;
    string day;
    for (int m = 0; m < M; m++) {
        monkey = "How much did Monkey #" + to_string(m + 1);
        for (int d = 0; d < D; d++) {
            day = " eat on Day #" + to_string(d + 1);
            cout << monkey << day << "? ";
            cin >> table[m][d];
        }
        cout << endl;
    }
    cout << endl;
}

/* Gets average food eaten by monkey family for week */
double avgFoodEaten(int table[M][D]) {
    int total = 0;
    double average;
    for (int m = 0; m < M; m++) {
        for (int d = 0; d < D; d++) {
            total += table[m][d];
        }
    }
    average = static_cast<double>(total) / D;
    return average;
}

/* Gets least amount eaten by each monkey */
void getLeast(int table[M][D], int least[M]) {
    for (int m = 0; m < M; m++) {
        for (int d = 0; d < D; d++) {
            if (table[m][d] < least[m])
                least[m] = table[m][d];
        };
    };
}

/* Gets most amount eaten by each monkey */
void getMost(int table[M][D], int most[M]) {
    for (int m = 0; m < M; m++) {
        for (int d = 0; d < D; d++) {
            if (table[m][d] > most[m])
                most[m] = table[m][d];
        };
    };
}

/* Opens all files. */
void open() {
    report.open("monkey_report.txt");
}

/* Writing to the files. */
void write(int table[M][D], double average, int least[M], int most[M]) {
    // Column sizes.
    const int c = 6;
    const int C = 8;

    // Title
    report << endl;
    report << "-------------" << endl;
    report << "MONKEY REPORT" << endl;
    report << "-------------" << endl;
    report << endl;

    // Average
    report << "Average Eaten per Day: " << average <<endl;
    report << endl;

    // Header
    report << right << setw(c) << "Monkey";
    report << right << setw(c) << "SUN";
    report << right << setw(c) << "MON";
    report << right << setw(c) << "TUE";
    report << right << setw(c) << "WED";
    report << right << setw(c) << "THU";
    report << right << setw(c) << "FRI";
    report << right << setw(c) << "SAT";
    report << right << setw(C) << "Least";
    report << right << setw(C) << "Most";

    for (int m = 0; m < M; m++) {
        // Next line.
        report << endl;

        // Monkey number.
        report << right << setw(c) << m + 1;

        // Monkey food.
        for (int d = 0; d < D; d++) {
            report << right << setw(c) << table[m][d];
        };

        // Min and Max.
        report << right << setw(C) << least[m];
        report << right << setw(C) << most[m];
    };
    report << endl;
}

/* Closes all files. */
void close() {
    report.close();
}

// Below is the report generated by the above code:
/*************************************************************************

-------------
MONKEY REPORT
-------------

Average Eaten per Day: 15

Monkey   SUN   MON   TUE   WED   THU   FRI   SAT   Least    Most
     1     9     8     7     8     6     7     8       6       9
     2     4     5     6     5     6     4     6       4       6
     3     2     3     2     1     3     2     3       1       3

*************************************************************************/
